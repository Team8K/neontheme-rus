{% extends "base.html" %}

{% block stylesheets %}{% endblock %}

{% block content %}
  <div class="container py-5 mb-5">
    <h1 class="text-center">Сброс пароля<span class="vim-caret">͏͏&nbsp;&nbsp;</span>
    </h1>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        {% include "components/errors.html" %}

        {% if mode == "set" %}
          {% with form = Forms
            .auth
            .ResetPasswordForm() %}
          <form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="form-horizontal">
            <div class="row">
              <div class="col-md-12">
                <p>Теперь вы можете сбросить пароль для своей учетной записи и войти в систему. Пожалуйста, введите новый пароль ниже.</p>
              </div>
            </div>
            <div class="form-group">
              {{ form.password.label }}
              {{ form.password(class="form-control") }}
            </div>
            <div class="row">
              <div class="col-md-6 offset-md-6">
                {{ form.submit(class="btn btn-md btn-primary float-right") }}
              </div>
            </div>
            {{ form.nonce() }}
          </form>
          {% endwith %}
        {% else %}
          {% with form = Forms
            .auth
            .ResetPasswordRequestForm() %}
          <form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="form-horizontal">
            <div class="row">
              <div class="col-md-12">
                <p>Пожалуйста, укажите ниже адрес электронной почты, связанный с вашей учетной записью.</p>
              </div>
            </div>
            <div class="form-group">
              {{ form.email.label }}
              {{ form.email(class="form-control") }}
            </div>
            <div class="row">
              <div class="col-md-6 offset-md-6">
                {{ form.submit(class="btn btn-md btn-primary float-right") }}
              </div>
            </div>
            {{ form.nonce() }}
          </form>
          {% endwith %}
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}{% endblock %}
